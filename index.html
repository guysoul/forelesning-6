<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Storage session</title>
  </head>
  <body>
    <h1 id="name-txt">Ditt navn er: Ukjent</h1>
    <input type="button" id="add-btn" value="Legg til brukernavn!" />
    <input type="button" id="delete-btn" value="Slett brukernavn" />
    <script>
      const nameTxt = document.getElementById("name-txt");
      const addBtn = document.getElementById("add-btn");
      const deleteBtn = document.getElementById("delete-btn");

      nameTxt.innerHTML = `Ditt navn er ${localStorage.getItem("name")}`;

      addBtn.onclick = addName;
      deleteBtn.onclick = deleteName;

      function addName() {
        const userName = prompt("Hva heter du?");
        localStorage.setItem("name", userName);

        updateName();
      }

      function deleteName() {
        localStorage.removeItem("name");

        updateName();
      }

      function updateName() {
        if (localStorage.length <= 0) {
          nameTxt.innerHTML = `Ditt navn er : Ukjent, legg inn brukernavn`;
        } else {
          nameTxt.innerHTML = `Ditt navn er ${localStorage.getItem("name")}`;
        }
      }

      updateName();
    </script>
  </body>
</html>
